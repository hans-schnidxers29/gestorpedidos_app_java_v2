<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.datatables.net/2.3.5/css/dataTables.dataTables.css" rel="stylesheet">
</head>
<body>
<table id="example" class="display">
    <thead>
    <tr>
        <th><i class="fas fa-hashtag me-2"></i>ID</th>
        <th><i class="fas fa-user me-2"></i>Cliente</th>
        <th><i class="fas fa-calendar me-2"></i>Fecha Venta</th>
        <th><i class="fas fa-boxes me-2"></i>Productos</th>
        <th><i class="fas fa-wallet me-2"></i>Método Pago</th>
        <th><i class="fas fa-dollar-sign me-2"></i>Total</th>
        <th class="text-center"><i class="fas fa-cog me-2"></i>Acciones</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="venta : ${ventas}">
        <td><strong th:text="${venta.id}"></strong></td>

        <td>
            <strong th:text="${venta.cliente.nombre}"></strong><br>
            <small class="text-muted" th:text="${venta.cliente.email}"></small>
        </td>

        <td>
            <span th:text="${#temporals.format(venta.fechaVenta,'dd/MM/yyyy')}"></span><br>
            <small class="text-muted" th:text="${#temporals.format(venta.fechaVenta,'HH:mm')}"></small>
        </td>

        <td>
            <span class="badge bg-info" th:text="${venta.detalles.size()} + ' item(s)'"></span>
        </td>

        <td th:text="${venta.metodoPago}">Pago</td>

        <td>
            <span class="total-destacado">$<span th:text="${#numbers.formatDecimal(venta.total,1,2)}"></span></span>
        </td>

        <td class="text-center">
            <a class="btn btn-secondary btn-sm me-1"
               th:href="@{/ventas/ticket/{id}(id=${venta.id})}">
                <i class="fas fa-eye"></i> Ver
            </a>

            <a class="btn btn-danger btn-sm"
               onclick="return confirmarEliminacion('¿Eliminar esta venta?')"
               th:href="@{/ventas/eliminar/{id}(id=${venta.id})}">
                <i class="fas fa-trash"></i> Eliminar
            </a>
        </td>
    </tr>
    </tbody>
    <tfoot>
    <tr>
        <th><i class="fas fa-hashtag me-2"></i>ID</th>
        <th><i class="fas fa-user me-2"></i>Cliente</th>
        <th><i class="fas fa-calendar me-2"></i>Fecha Venta</th>
        <th><i class="fas fa-boxes me-2"></i>Productos</th>
        <th><i class="fas fa-wallet me-2"></i>Método Pago</th>
        <th><i class="fas fa-dollar-sign me-2"></i>Total</th>
        <th class="text-center"><i class="fas fa-cog me-2"></i>Acciones</th>
    </tr>
    </tfoot>
</table>
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://cdn.datatables.net/2.3.5/js/dataTables.js"></script>
<script>
    new DataTable('#example', {
        columnDefs: [
            {
                targets: 2,
                visible: false,
                searchable: false
            },
            {
                targets: 3,
                visible: false
            }
        ]
    });
</script>


</body>
</html>